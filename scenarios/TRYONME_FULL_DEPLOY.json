{
  "scenarios": [
    {
      "name": "TRYONME_FULL_DEPLOY",
      "modules": [
        {
          "module": "http.makeRequest",
          "parameters": {
            "url": "https://tu-servidor.onrender.com/upload",
            "method": "POST",
            "headers": [
              {
                "name": "Content-Type",
                "value": "application/json"
              }
            ],
            "bodyType": "raw",
            "contentType": "application/json",
            "body": "{ \"action\": \"deploy\", \"timestamp\": \"{{now}}\" }"
          },
          "mapper": {},
          "position": {
            "x": 100,
            "y": 100
          },
          "name": "Desplegar web en Vercel"
        },
        {
          "module": "http.makeRequest",
          "parameters": {
            "url": "https://your-shopify-endpoint.com/admin/api/2023-07/products.json",
            "method": "POST",
            "headers": [
              {
                "name": "Content-Type",
                "value": "application/json"
              },
              {
                "name": "X-Shopify-Access-Token",
                "value": "TU_TOKEN_SHOPIFY_AQUI"
              }
            ],
            "bodyType": "raw",
            "contentType": "application/json",
            "body": "{ \"products_csv\": \"https://ruta-a-tu-csv.com/productos.csv\" }"
          },
          "mapper": {},
          "position": {
            "x": 400,
            "y": 100
          },
          "name": "Importar productos a Shopify"
        },
        {
          "module": "email.sendEmail",
          "parameters": {
            "to": ["rubén.espinar.10@icloud.com"],
            "subject": "✅ TRYONME desplegado con éxito",
            "htmlBody": "<p>La web ha sido actualizada y los productos sincronizados correctamente en Shopify.<br>Hora: {{now}}</p>"
          },
          "position": {
            "x": 700,
            "y": 100
          },
          "name": "Enviar confirmación por email"
        }
      ],
      "metadata": {
        "version": 1
      }
    }
  ]
}
